<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>ì˜ìƒ ë¹„êµ ë° 3D ëª¨ë¸ ë·°ì–´</title>
Â  Â  <style>
Â  Â  Â  Â  /* ê¸°ë³¸ ì„¤ì • */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  Â  Â  overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ----------------------------------- */
Â  Â  Â  Â  /* ìƒë‹¨: ì˜ìƒ ë¹„êµ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  /* ----------------------------------- */
Â  Â  Â  Â  .top-comparison-section {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center; /* ë·°ì–´ ì¤‘ì•™ ì •ë ¬ */
Â  Â  Â  Â  Â  Â  padding: 30px 0;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  background-color: #f7f7f7; /* ì„¹ì…˜ ë°°ê²½ìƒ‰ */
Â  Â  Â  Â  }

Â  Â  Â  Â  .comparison-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  width: 1000px; /* ê³ ì • í¬ê¸° ìœ ì§€ */
Â  Â  Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ì™¼ìª½ íŒ¨ë„: ì—…ë¡œë“œí•œ ì˜ìƒ (500px x 500px ê³ ì •) */
Â  Â  Â  Â  .left-panel {
Â  Â  Â  Â  Â  Â  width: 500px;
Â  Â  Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  background-color: #f0f0f0;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ì˜¤ë¥¸ìª½ íŒ¨ë„: ì›¹ìº  í”¼ë“œ (500px x 500px ê³ ì •) */
Â  Â  Â  Â  .right-panel {
Â  Â  Â  Â  Â  Â  width: 500px;
Â  Â  Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  background-color: #333333;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ì˜ìƒ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  #my-video {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ì›¹ìº  í™”ë©´ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  #webcam-feed {
Â  Â  Â  Â  Â  Â  width: 500px;
Â  Â  Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  Â  Â  background-color: #000;
Â  Â  Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  transform: scaleX(-1); /* ê±°ìš¸ ëª¨ë“œ */
Â  Â  Â  Â  }

Â  Â  Â  Â  .loading-text {
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  position: absolute; /* right-panel ë‚´ì—ì„œ ìƒëŒ€ì  ìœ„ì¹˜ ì§€ì • */
Â  Â  Â  Â  Â  Â  width: 500px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ----------------------------------- */
Â  Â  Â  Â  /* í•˜ë‹¨: 3D ë·°ì–´ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  /* ----------------------------------- */

Â  Â  Â  Â  #threejs-container {
Â  Â  Â  Â  Â  Â  width: 100vw;
Â  Â  Â  Â  Â  Â  /* 3D ë·°ì–´ì˜ ë†’ì´. í•„ìš”ì— ë”°ë¼ ì¡°ì ˆí•˜ì„¸ìš”. */
Â  Â  Â  Â  Â  Â  height: 70vh;Â 
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Three.js ìº”ë²„ìŠ¤ê°€ ì´ ì»¨í…Œì´ë„ˆ ì•ˆì— ìœ„ì¹˜í•©ë‹ˆë‹¤. */
Â  Â  Â  Â  #threejs-container canvas {
Â  Â  Â  Â  Â  Â  display: block; /* ìº”ë²„ìŠ¤ ì•„ë˜ ê³µë°± ì œê±° */
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

Â  Â  <div class="top-comparison-section">
Â  Â  Â  Â  <div class="comparison-container">
Â  Â  Â  Â  Â  Â  <div class="left-panel">
Â  Â  Â  Â  Â  Â  Â  Â  <video id="my-video" autoplay loop muted playsinline>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <source id="video-source" src="base.mp4" type="video/mp4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì£„ì†¡í•©ë‹ˆë‹¤. ê·€í•˜ì˜ ë¸Œë¼ìš°ì €ëŠ” ë¹„ë””ì˜¤ íƒœê·¸ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
Â  Â  Â  Â  Â  Â  Â  Â  </video>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="right-panel">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="loading-message" class="loading-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì›¹ìº  ì ‘ê·¼ì„ ìš”ì²­ ì¤‘ì…ë‹ˆë‹¤... í—ˆìš©í•´ ì£¼ì„¸ìš”.
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <video id="webcam-feed" autoplay playsinline style="display: none;"></video>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="threejs-container">
Â  Â  </div>

    Â  Â  <script type="module">
Â  Â  Â  Â  // ----------------------------------------------------
Â  Â  Â  Â  // A. ì›¹ìº /ì˜ìƒ ë¹„êµ ì„¹ì…˜ JavaScript
Â  Â  Â  Â  // ----------------------------------------------------
Â  Â  Â  Â  const videoElement = document.getElementById('webcam-feed');
Â  Â  Â  Â  const loadingMessage = document.getElementById('loading-message');
Â  Â  Â  Â  const myVideo = document.getElementById('my-video'); // ì™¼ìª½ ì˜ìƒ ìš”ì†Œ
Â  Â  Â  Â  const videoSource = document.getElementById('video-source'); // ì™¼ìª½ ì˜ìƒ ì†ŒìŠ¤ ìš”ì†Œ
Â  Â  Â  Â  const BASE_VIDEO_SRC = "base.mp4"; // ê¸°ë³¸ ì˜ìƒ íŒŒì¼ëª…

Â  Â  Â  Â  // 1. ë¸Œë¼ìš°ì € ì •ì±…ì„ ìš°íšŒí•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ (í´ë¦­ ì‹œ ì¬ìƒ ì‹œë„)
Â  Â  Â  Â  function tryPlayVideo() {
Â  Â  Â  Â  Â  Â  myVideo.play().catch(e => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log("ìë™ ì¬ìƒì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ í´ë¦­í•´ ì£¼ì„¸ìš”.");
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  document.addEventListener('click', tryPlayVideo, { once: true });
Â  Â  Â  Â  tryPlayVideo();


Â  Â  Â  Â  // 2. ì›¹ìº  ì ‘ê·¼ ìš”ì²­ í•¨ìˆ˜
Â  Â  Â  Â  async function startWebcam() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const stream = await navigator.mediaDevices.getUserMedia({ video: true });
Â  Â  Â  Â  Â  Â  Â  Â  loadingMessage.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  videoElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  videoElement.srcObject = stream;
Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("ì›¹ìº  ì ‘ê·¼ ê¶Œí•œ ê±°ë¶€ ë˜ëŠ” ì˜¤ë¥˜ ë°œìƒ:", err);
Â  Â  Â  Â  Â  Â  Â  Â  loadingMessage.innerText = "ì›¹ìº  ì ‘ê·¼ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.";
Â  Â  Â  Â  Â  Â  Â  Â  loadingMessage.style.color = '#ff6b6b';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // í˜ì´ì§€ ë¡œë“œ ì‹œ ì›¹ìº  ì‹œì‘
Â  Â  Â  Â  window.onload = startWebcam;


Â  Â  Â  Â  // 3. ì˜ìƒ êµì²´ ë° ë³µì› í•¨ìˆ˜
Â  Â  Â  Â  let videoResetTimer = null;

Â  Â  Â  Â  function switchVideo(modelName) {
Â  Â  Â  Â  Â  Â  const newSrc = modelName.replace('.glb', '.mp4');
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  console.log(`ì˜ìƒì„ ${newSrc}ë¡œ êµì²´í•©ë‹ˆë‹¤.`);
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  // ê¸°ì¡´ íƒ€ì´ë¨¸ ì·¨ì†Œ
Â  Â  Â  Â  Â  Â  if (videoResetTimer) {
Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(videoResetTimer);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // ìƒˆë¡œìš´ ì˜ìƒìœ¼ë¡œ ë³€ê²½
Â  Â  Â  Â  Â  Â  videoSource.src = newSrc;
Â  Â  Â  Â  Â  Â  myVideo.load();
Â  Â  Â  Â  Â  Â  myVideo.loop = false; // ìƒˆ ì˜ìƒì€ í•œ ë²ˆë§Œ ì¬ìƒ
Â  Â  Â  Â  Â  Â  myVideo.play();

Â  Â  Â  Â  Â  Â  // 5ì´ˆ í›„ ê¸°ë³¸ ì˜ìƒìœ¼ë¡œ ë³µì›
Â  Â  Â  Â  Â  Â  videoResetTimer = setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`5ì´ˆ ê²½ê³¼, ê¸°ë³¸ ì˜ìƒ ${BASE_VIDEO_SRC}ë¡œ ë³µì›í•©ë‹ˆë‹¤.`);
Â  Â  Â  Â  Â  Â  Â  Â  videoSource.src = BASE_VIDEO_SRC;
Â  Â  Â  Â  Â  Â  Â  Â  myVideo.load();
Â  Â  Â  Â  Â  Â  Â  Â  myVideo.loop = true; // ê¸°ë³¸ ì˜ìƒì€ ë£¨í”„
Â  Â  Â  Â  Â  Â  Â  Â  myVideo.play();
Â  Â  Â  Â  Â  Â  Â  Â  videoResetTimer = null;
Â  Â  Â  Â  Â  Â  }, 5000);
Â  Â  Â  Â  }


Â  Â  Â  Â  // ----------------------------------------------------
Â  Â  Â  Â  // B. 3D ëª¨ë¸ ë·°ì–´ ì„¹ì…˜ JavaScript (Three.js)
Â  Â  Â  Â  // ----------------------------------------------------
Â  Â  Â  Â  // CDN URLì„ ì§ì ‘ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆ ë¡œë“œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•©ë‹ˆë‹¤.
Â  Â  Â  Â  import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
Â  Â  Â  Â  import { GLTFLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';
Â  Â  Â  Â  import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';

Â  Â  Â  Â  const threeJsContainer = document.getElementById('threejs-container');

Â  Â  Â  Â  // --- ì „ì—­ ë³€ìˆ˜ ë° ì„¤ì • ---
Â  Â  Â  Â  let rotatingObject = null; // ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ íšŒì „í•  ê°ì²´
Â  Â  Â  Â  let INTERSECTED = null; // í˜„ì¬ ë§ˆìš°ìŠ¤ê°€ ì˜¬ë¼ê°€ ìˆëŠ” ê°ì²´
Â  Â  Â  Â  const raycaster = new THREE.Raycaster();
Â  Â  Â  Â  const mouse = new THREE.Vector2();

Â  Â  Â  Â  // ğŸŒŸğŸŒŸğŸŒŸ ëª¨ë¸ í¬ê¸° ë° ë°°ì¹˜ ì„¤ì • ğŸŒŸğŸŒŸğŸŒŸ
Â  Â  Â  Â  const modelsToLoad = [
Â  Â  Â  Â  Â  Â  { name: 'shoes.glb', scale: 10 },
Â  Â  Â  Â  Â  Â  { name: 'bag.glb', scale: 7 },
Â  Â  Â  Â  Â  Â  { name: 'ball.glb', scale: 5 },
Â  Â  Â  Â  Â  Â  { name: 'book.glb', scale: 10 },
Â  Â  Â  Â  Â  Â  { name: 'close.glb', scale: 5 },
Â  Â  Â  Â  Â  Â  { name: 'glasses.glb', scale: 20 },
Â  Â  Â  Â  Â  Â  { name: 'guard.glb', scale: 10 },
Â  Â  Â  Â  Â  Â  { name: 'persimmon.glb', scale: 20 },
Â  Â  Â  Â  ];

Â  Â  Â  Â  const FIXED_POSITION_Y = -4.0;Â 
Â  Â  Â  Â  const FIXED_POSITION_Z = 0.0;
Â  Â  Â  Â  const MODEL_SPACING_X = 3.0;
Â  Â  Â  Â  const HOVER_SCALE_FACTOR = 1.1; // í™•ëŒ€ ë¹„ìœ¨
Â  Â  Â  Â  // ğŸŒŸğŸŒŸğŸŒŸ ------------------------------------ ğŸŒŸğŸŒŸğŸŒŸ


Â  Â  Â  Â  // 1. ê¸°ë³¸ 3ìš”ì†Œ ì„¤ì •
Â  Â  Â  Â  const scene = new THREE.Scene();
Â  Â  Â  Â  scene.background = new THREE.Color(0xffffff); // ë°°ê²½ìƒ‰: í°ìƒ‰

Â  Â  Â  Â  const camera = new THREE.PerspectiveCamera(50, threeJsContainer.clientWidth / threeJsContainer.clientHeight, 0.1, 1000);
Â  Â  Â  Â  camera.position.set(0, 0, 15);

Â  Â  Â  Â  const renderer = new THREE.WebGLRenderer({ antialias: true });
Â  Â  Â  Â  renderer.setSize(threeJsContainer.clientWidth, threeJsContainer.clientHeight);
Â  Â  Â  Â  threeJsContainer.appendChild(renderer.domElement);Â 

Â  Â  Â  Â  // 2. ì¡°ëª… ì„¤ì •
Â  Â  Â  Â  const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
Â  Â  Â  Â  scene.add(ambientLight);

Â  Â  Â  Â  const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);
Â  Â  Â  Â  directionalLight.position.set(5, 10, 7).normalize();
Â  Â  Â  Â  scene.add(directionalLight);

Â  Â  Â  Â  // 3. ì»¨íŠ¸ë¡¤ ì„¤ì •
Â  Â  Â  Â  const controls = new OrbitControls(camera, renderer.domElement);
Â  Â  Â  Â  controls.enableDamping = true;
Â  Â  Â  Â  controls.target.set(0, FIXED_POSITION_Y, 0);
Â  Â  Â  Â  controls.enablePan = false;
Â  Â  Â  Â  controls.enableRotate = true; 
Â  Â  Â  Â  controls.maxDistance = 20;
Â  Â  Â  Â  controls.minDistance = 5;

Â  Â  Â  Â  // 4. GLB íŒŒì¼ ë¡œë“œ ë° ì´ˆê¸° ì„¤ì •
Â  Â  Â  Â  const loader = new GLTFLoader();
Â  Â  Â  Â  const modelCount = modelsToLoad.length;
Â  Â  Â  Â  const startX = -((modelCount - 1) * MODEL_SPACING_X) / 2;

Â  Â  Â  Â  modelsToLoad.forEach((modelInfo, index) => {
Â  Â  Â  Â  Â  Â  loader.load(
Â  Â  Â  Â  Â  Â  Â  Â  modelInfo.name,
Â  Â  Â  Â  Â  Â  Â  Â  function (gltf) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const model = gltf.scene;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.position.x = startX + (index * MODEL_SPACING_X);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.position.y = FIXED_POSITION_Y;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.position.z = FIXED_POSITION_Z;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.scale.set(modelInfo.scale, modelInfo.scale, modelInfo.scale);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ëª¨ë¸ì˜ ì´ˆê¸° ìƒíƒœ ë° ì •ë³´ë¥¼ userDataì— ì €ì¥
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.userData.modelName = modelInfo.name;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  model.userData.baseScale = modelInfo.scale; // ì›ë˜ ìŠ¤ì¼€ì¼ ì €ì¥

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scene.add(model);
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  undefined,
Â  Â  Â  Â  Â  Â  Â  Â  function (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(`ëª¨ë¸ ë¡œë“œ ì¤‘ ì—ëŸ¬ ë°œìƒ: ${modelInfo.name}`, error);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  });

Â  Â  Â  Â  // 5. ë§ˆìš°ìŠ¤ ìƒí˜¸ì‘ìš© í•¨ìˆ˜

Â  Â  Â  Â  function getIntersectedModel(event) {
Â  Â  Â  Â  Â  Â  const rect = renderer.domElement.getBoundingClientRect();
Â  Â  Â  Â  Â  Â  mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
Â  Â  Â  Â  Â  Â  mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

Â  Â  Â  Â  Â  Â  raycaster.setFromCamera(mouse, camera);
Â  Â  Â  Â  Â  Â  const intersects = raycaster.intersectObjects(scene.children, true);

Â  Â  Â  Â  Â  Â  if (intersects.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  let target = intersects[0].object;
Â  Â  Â  Â  Â  Â  Â  Â  while (target.parent && target.parent !== scene) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  target = target.parent;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (target.parent === scene) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return target;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  }

Â  Â  Â  Â  renderer.domElement.addEventListener('mousemove', onDocumentMouseMove, false);
Â  Â  Â  Â  renderer.domElement.addEventListener('click', onDocumentClick, false);


Â  Â  Â  Â  function onDocumentMouseMove(event) {
Â  Â  Â  Â  Â  Â  const intersects = getIntersectedModel(event);

Â  Â  Â  Â  Â  Â  if (intersects) {
Â  Â  Â  Â  Â  Â  Â  Â  if (INTERSECTED !== intersects) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ì´ì „ ê°ì²´ê°€ ìˆì—ˆìœ¼ë©´ ë³µì›
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (INTERSECTED) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.scale.set(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ìƒˆ ê°ì²´ ì„¤ì • ë° í™•ëŒ€
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED = intersects;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.scale.set(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale * HOVER_SCALE_FACTOR,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale * HOVER_SCALE_FACTOR,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale * HOVER_SCALE_FACTOR
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rotatingObject = INTERSECTED; // íšŒì „í•  ê°ì²´ ì§€ì •
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // í˜¸ë²„ í•´ì œ
Â  Â  Â  Â  Â  Â  Â  Â  if (INTERSECTED) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // í¬ê¸° ë³µì›
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.scale.set(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED.userData.baseScale
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  INTERSECTED = null;
Â  Â  Â  Â  Â  Â  Â  Â  rotatingObject = null; // íšŒì „ ì¤‘ì§€
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function onDocumentClick(event) {
Â  Â  Â  Â  Â  Â  const clickedModel = getIntersectedModel(event);

Â  Â  Â  Â  Â  Â  if (clickedModel && clickedModel.userData.modelName) {
Â  Â  Â  Â  Â  Â  Â  Â  switchVideo(clickedModel.userData.modelName); // ì˜ìƒ êµì²´ í•¨ìˆ˜ í˜¸ì¶œ
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }


Â  Â  Â  Â  // 6. ë Œë”ë§ ë£¨í”„ (ì• ë‹ˆë©”ì´ì…˜)
Â  Â  Â  Â  function animate() {
Â  Â  Â  Â  Â  Â  requestAnimationFrame(animate);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  controls.update();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // í˜¸ë²„ëœ ê°ì²´ë§Œ Yì¶• íšŒì „
Â  Â  Â  Â  Â  Â  if (rotatingObject) {
Â  Â  Â  Â  Â  Â  Â  Â  rotatingObject.rotation.y += 0.01;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  renderer.render(scene, camera);
Â  Â  Â  Â  }

Â  Â  Â  Â  animate();

Â  Â  Â  Â  // 7. ì°½ í¬ê¸° ë³€ê²½ ì‹œ í™”ë©´ ë¹„ìœ¨ ìœ ì§€ (ì›¹ìº /3D ë·°ì–´ ëª¨ë‘ ëŒ€ì‘)
Â  Â  Â  Â  window.addEventListener('resize', () => {
Â  Â  Â  Â  Â  Â  // 3D ë·°ì–´ ë¦¬ì‚¬ì´ì§•
Â  Â  Â  Â  Â  Â  camera.aspect = threeJsContainer.clientWidth / threeJsContainer.clientHeight;
Â  Â  Â  Â  Â  Â  camera.updateProjectionMatrix();
Â  Â  Â  Â  Â  Â  renderer.setSize(threeJsContainer.clientWidth, threeJsContainer.clientHeight);
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
